<div *ngIf="loading" class="d-flex justify-content-center align-items-center" style="height: 300px;">
  <mat-spinner color="warn"></mat-spinner>
</div>

<ng-container *ngIf="!loading">
  <div class="row">
  <mat-card 
  class="d-flex col-6 w-50 justify-content-start align-items-start">
    <form>
      <mat-card-header 
        class="justify-content-center">
        <h5>Inscribir Alumno</h5> 
      </mat-card-header>
        <br>
        <mat-card-content>
          <mat-form-field 
          appearance="outline">
            <mat-label>Seleccionar Estudiante</mat-label
              >
            <mat-select 
            name="selectedStudent" 
            [(ngModel)]="studentId"
            >
              <mat-option 
              *ngFor="let student of students" 
              [value]="student.id"
                >{{student.firstName}} {{student.lastName}}</mat-option
              >
            </mat-select>
          </mat-form-field>
          <div class="col-12">
            <mat-form-field 
            appearance="outline"
            >
              <mat-label>Seleccionar Curso </mat-label>
              <mat-select 
              name="selectedCourse" 
              [(ngModel)]="courseId"
              >
                <mat-option 
                *ngFor="let course of courses" 
                [value]="course.id"
                >{{course.name}}</mat-option
                >
              </mat-select>
            </mat-form-field>
          </div>
        </mat-card-content>
        <div>
          <mat-card-actions>
            <button class="w-100" 
            mat-raised-button 
            color="primary" 
            (click)="enrollStudent()">
              Inscribir
            </button>
          </mat-card-actions>
        </div>
      </form>
    </mat-card>
    <mat-card class="d-flex vh-100 col-6 w-50 justify-content-start align-items-start">
      <form>
        <mat-card-header 
        class="justify-content-center"
        ><h5>Desinscribir Alumno</h5>
      </mat-card-header>
        <br>
        <mat-card-content>
          <mat-form-field appearance="outline">
            <mat-label>Seleccionar Estudiante</mat-label>
            <mat-select 
            name="studentToUnenroll" 
            [(ngModel)]="unenrollStudentId"
            >
              <mat-option 
              *ngFor="let student of students" 
              [value]="student.id"
                >{{student.firstName}} {{student.lastName}}</mat-option
              ></mat-select>
          </mat-form-field>
          <div class="col-12">
            <mat-form-field 
            appearance="outline">
            <mat-label>Seleccionar Curso</mat-label
              >
            <mat-select 
            name="courseToUnenroll" 
            [(ngModel)]="unenrollCourseId"
            ><mat-option 
              *ngFor="let course of courses" 
              [value]="course.id"
              >{{course.name}}</mat-option
              >
              </mat-select>
            </mat-form-field>
          </div>
        </mat-card-content>
        <div>
            <mat-card-actions >
              <button class="w-100" 
              mat-raised-button 
              color="warn" 
              (click)="unenrollStudent()">
                Desinscribir
              </button>
            </mat-card-actions>
        </div>
      </form>
    </mat-card>
  </div>
</ng-container>


